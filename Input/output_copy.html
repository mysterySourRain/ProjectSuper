<%@ page contentType="text/html;charset=utf-8" import="java.sql.*" %>

<% response.setContentType("text/html;charset=utf-8;");
 request.setCharacterEncoding("utf-8");
 Class.forName("org.postgresql.Driver"); 
 String DB_URL = "jdbc:postgresql://localhost:5433/postgres";
 String DB_USER = "postgres";
 String DB_PASSWORD= "tlsql12!"; 
 Connection conn= null;
 Statement stmt = null;
 ResultSet rs = null;

 try {
  conn = DriverManager.getConnection(DB_URL, DB_USER, DB_PASSWORD);
stmt = conn.createStatement();

 String query = "SELECT math, english, socialstudy, class FROM subjects";
  rs = stmt.executeQuery(query);
%>

<table border="1" cellspacing="0">
<%
 while(rs.next()) { 
%><tr>
<td><a href="delete_do.jsp?del=<%=rs.getString(4)%>"><%=rs.getString("math")%></td></a>
<td><%=rs.getString("english")%></td>
<td><%=rs.getString("socialstudy")%></td>
</td>
</tr>
<%
 }
%></table>

<%
rs.close();
 stmt.close(); 
 conn.close();  
}
catch (SQLException e) {
 out.println("err:"+e.toString());
} 
%>
